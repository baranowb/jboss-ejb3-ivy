<!--
   vi:ts=3:sw=3:expandtab:
-->
<project name="jboss-ejb3-ivy-find-rev" 
   xmlns:ivy="antlib:org.apache.ivy.ant"
   xmlns:maven="urn:maven-artifact-ant"
   default="find-revision">

   <!-- Bootstrap Ivy -->
   <property name="ivy.version" value="2.0.0"/>
   <property name="ivy.dir" value="${user.home}/.ivy2/cache/org.apache.ivy/jars"/>
   <property name="ivy.jar.name" value="ivy-${ivy.version}.jar"/>
   <mkdir dir="${ivy.dir}"/>
   <!-- skipexisting needs ant 1.8 -->
   <get usetimestamp="true" src="http://repo1.maven.org/maven2/org/apache/ivy/ivy/${ivy.version}/${ivy.jar.name}" dest="${ivy.dir}/${ivy.jar.name}"/>
   <taskdef resource="org/apache/ivy/ant/antlib.xml" uri="antlib:org.apache.ivy.ant" classpath="${ivy.dir}/${ivy.jar.name};target/classes"/>

   <!-- Setup Ivy -->
   <!-- Load settings -->
   <ivy:settings file="src/test/resources/ivysettings.xml"/>

   <!--
   <import file="src/main/ant/maven-ant-tasks.xml"/>
   <import file="src/main/ant/xpath-task.xml"/>
   -->

   <target name="find-revision" description="Find the latest revision of a module matching a given version constraint.">
      <ivy:findrevision organisation="${organisation}" module="${module}" revision="${revision}"/>
      <echo message="${ivy.revision}"/>
   </target>
</project>
